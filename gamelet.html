<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>게임 경고</title>
    <!-- Font Awesome CDN 추가 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        #alertBox {
            display: none;
            background-color: #ffcccc;
            color: #ff0000;
            padding: 10px;
            border: 1px solid #ff0000;
            margin-top: 20px;
            border-radius: 5px;
            display: flex;
            align-items: center;
        }

        /* 경고 아이콘 스타일 */
        #alertBox i {
            margin-right: 10px;
            font-size: 24px;
        }
    </style>
</head>
<body>
    <h1>수업 중 게임 경고 시스템</h1>
    
    <!-- 경고 메시지와 아이콘을 표시할 박스 -->
    <div id="alertBox">
        <!-- 경고 아이콘 -->
        <i id="alertIcon" class="fas fa-exclamation-triangle"></i>
        <span id="alertMessage"></span>
    </div>

    <script>
        // SSE 연결
        const eventSource = new EventSource('/game/alarm');

        eventSource.onmessage = function(event) {
            // 서버로부터 경고 메시지 받으면
            if (event.data) {
                const alertBox = document.getElementById('alertBox');
                const alertMessage = document.getElementById('alertMessage');
                const alertIcon = document.getElementById('alertIcon');
                
                // 경고 메시지와 아이콘 변경
                alertMessage.textContent = event.data;
                alertBox.style.display = 'flex';  // 경고 박스 표시

                // 경고 아이콘 스타일 변경 (예: 색상 및 아이콘)
                alertIcon.classList.remove('fa-exclamation-triangle');
                alertIcon.classList.add('fa-ban');
                alertIcon.style.color = '#ff0000';  // 빨간색 아이콘

                // 일정 시간 후 경고 박스를 숨기기
                setTimeout(() => {
                    alertBox.style.display = 'none';
                }, 5000);  // 5초 후 경고 메시지 숨기기
            }
        };
        
        eventSource.onerror = function() {
            console.error('SSE 연결 실패');
        };
    </script>
</body>
</html>
